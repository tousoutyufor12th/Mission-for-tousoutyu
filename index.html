<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>逃走中 通知システム</title>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap');

  body {
    font-family: 'Orbitron', system-ui, sans-serif;
    margin: 0;
    padding: 20px;
    background: #111;
    color: white;
  }

  #container {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
  }

  .class-card {
    background: #222;
    border-radius: 10px;
    padding: 15px;
    width: 140px;
    text-align: center;
  }

  .count {
    font-size: 32px;
    margin: 10px 0;
  }

  button {
    padding: 8px 15px;
    border: none;
    border-radius: 6px;
    background: #08f;
    color: white;
    cursor: pointer;
    font-size: 14px;
  }

  button:hover {
    background: #0af;
  }

  /* ▼▼ 追加：左下のリセットボタン ▼▼ */
  #resetButton {
    position: fixed;
    bottom: 20px;
    left: 20px;
    padding: 10px 20px;
    background: #444;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
  }

  #resetButton:hover {
    background: #666;
  }
  /* ▲▲ 追加：左下のリセットボタン ▲▲ */

</style>
</head>
<body>

<h1>回答成功数</h1>

<div id="container">
  <!-- クラス一覧が入る -->
</div>

<!-- ▼▼ 追加：リセットボタン ▼▼ -->
<button id="resetButton">リセット</button>
<!-- ▲▲ 追加：リセットボタン ▲▲ -->

<script>

// ▼▼ 元からあるクラス一覧 ▼▼
const classes = [
  "1-1","1-2","1-3","1-4","1-5","1-6",
  "2-1","2-2","2-3","2-4","2-5","2-6",
  "3-1","3-2","3-3","3-4","3-5","3-6",
  "4-1","4-2","4-3","4-4","4-5","4-6"
];

function loadAllClasses() {
  const container = document.getElementById("container");
  container.innerHTML = "";

  classes.forEach(cls => {
    const count = Number(localStorage.getItem(cls) || 0);

    const card = document.createElement("div");
    card.className = "class-card";
    card.innerHTML = `
      <h2>${cls}</h2>
      <div class="count">${count}</div>
      <button onclick="addPoint('${cls}')">＋</button>
      <button onclick="removePoint('${cls}')">ー</button>
    `;

    container.appendChild(card);
  });
}

function addPoint(cls) {
  const now = Number(localStorage.getItem(cls) || 0);
  localStorage.setItem(cls, now + 1);
  loadAllClasses();
}

function removePoint(cls) {
  const now = Number(localStorage.getItem(cls) || 0);
  if (now > 0) {
    localStorage.setItem(cls, now - 1);
  }
  loadAllClasses();
}
// ▲▲ 元のコードここまで ▲▲



// ▼▼ ▼▼ 追加：リセット処理 ▼▼ ▼▼
document.getElementById("resetButton").addEventListener("click", () => {
  const pw = prompt("リセットにはパスワードが必要です。入力してください。");

  if (pw !== "sss12") {
    alert("パスワードが違います。");
    return;
  }

  if (!confirm("本当にすべての成功数を0にしますか？")) return;

  classes.forEach(cls => {
    localStorage.setItem(cls, "0");
  });

  loadAllClasses();

  alert("全クラスをリセットしました！");
});
// ▲▲ ▲▲ 追加：リセット処理ここまで ▲▲ ▲▲



function init() {
  loadAllClasses();
}

init();

</script>

</body>
</html>
